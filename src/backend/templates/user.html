{% extends 'base.html' %}

{% block title %}CODEIT AD MANAGER | ê´‘ê³  ê´€ë¦¬ì{% endblock %}

{% block body_class %}class="admin-body"{% endblock %}

{% block content %}
    <!-- ë©”ì¸ ì»¨í…ì¸  -->
    <div class="dashboard-content">
        <div class="generator-layout">

            <!-- ì¤‘ì•™: AI AD GENERATOR -->
            <div class="generator-card">
                <h3>AI AD GENERATOR</h3>
                <p class="section-desc">ê·€í•˜ì˜ ìƒí’ˆ ì‚¬ì§„ì„ ì—…ë¡œë“œí•˜ë©´ AIê°€ ìµœì ì˜ ê´‘ê³  ì¹´í”¼ì™€ ë””ìì¸ì„ ì…í˜€ì¤ë‹ˆë‹¤.</p>

                <form action="/generate-ad" method="POST" enctype="multipart/form-data">
                    <div class="form-grid">
                    <!-- ì™¼ìª½: ì´ë¯¸ì§€ ì—…ë¡œë“œ -->
                        <div class="upload-zone">
                            <div class="upload-icon">ğŸ“¸</div>

                            <input type="file"
                                id="fileInput"
                                name="file"
                                accept="image/*"
                                style="display:none"
                                required>
                            <label for="fileInput" class="cta-btn">íŒŒì¼ ì„ íƒ</label>
                        </div>

                        <!-- ì˜¤ë¥¸ìª½: ì˜µì…˜ -->
                        <div class="generator-options">
                            <div class="option-group">
                                <label>ê´‘ê³  ëª©ì </label>
                                <select name="purpose" class="option-group" required>
                                    <option value="ì‹ ë©”ë‰´ í™ë³´">ì‹ ë©”ë‰´ í™ë³´</option>
                                    <option value="ì‹œì¦Œ í• ì¸ ì´ë²¤íŠ¸">ì‹œì¦Œ í• ì¸ ì´ë²¤íŠ¸</option>
                                    <option value="ë¸Œëœë“œ ì¸ì§€ë„ ìƒìŠ¹">ë¸Œëœë“œ ì¸ì§€ë„ ìƒìŠ¹</option>
                                </select>
                            </div>
                            <div class="option-group">
                                <label>ë¶„ìœ„ê¸° ì„¤ì •</label>
                                <select name="mood" class="option-group" required>
                                    <option value="ê°ì„±ì ì¸">ê°ì„±ì ì¸</option>
                                    <option value="í™”ë ¤í•œ">í™”ë ¤í•œ</option>
                                    <option value="ì‹¬í”Œí•œ">ì‹¬í”Œí•œ</option>
                                    <option value="ê°•ë ¬í•œ">ê°•ë ¬í•œ</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div>
                        <div>
                            <div class="image-container">
                              {% if image_url %}
                                <img src="{{ image_url }}" alt="result image" />
                              {% else %}
                                <div class="placeholder"> ê´‘ê³ ë¥¼ ìƒì„±í•˜ì„¸ìš”. </div>
                              {% endif %}
                            </div>
                        </div>
                        <!-- í•˜ë‹¨ ì „ì²´ ë²„íŠ¼ -->
                        <button type="submit" class="generate-submit-btn">
                        ê´‘ê³  ìƒì„±í•˜ê¸° (1 í¬ë ˆë”§ ì†Œëª¨)
                        </button>
                    </div>
                </form>
            </div>
            <!-- ê²°ê³¼ í‘œì‹œ (ìƒì„± í›„) -->
            {% if result %}
            <div class="generator-options">
                <h3 style="color: #4096ee;">âœ… ìƒì„± ì™„ë£Œ!</h3>
                <div class="result-card">
                    <h4>Positive Prompt:</h4>
                    <p style="background: #1a1a1a; padding: 15px; border-radius: 8px; font-size: 14px;">
                        {{ result.positive_prompt }}
                    </p>

                    <h4>Negative Prompt:</h4>
                    <p style="background: #1a1a1a; padding: 15px; border-radius: 8px; font-size: 14px;">
                        {{ result.negative_prompt }}
                    </p>
                </div>
            </div>
            {% endif %}
        </div>
    </div>
{% endblock %}