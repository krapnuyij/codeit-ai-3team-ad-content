[pytest]
# pytest 설정 파일

# 경고 필터링: SWIG 관련 DeprecationWarning 억제
filterwarnings =
    ignore::DeprecationWarning:_bootstrap
    ignore:builtin type.*has no __module__ attribute:DeprecationWarning

# 테스트 디스커버리 패턴
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# 마커 등록
markers =
    unit: 단위 테스트 (빠름, 외부 의존성 없음)
    integration: 통합 테스트 (느림, 실제 API 호출)
    slow: 느린 테스트 (모델 로딩 등)
    dummy: 더미 모드 테스트 (GPU 미사용)
    asyncio: 비동기 테스트

# 출력 옵션
addopts = -v --tb=short --strict-markers

# asyncio 모드 설정
asyncio_mode = auto
asyncio_default_fixture_loop_scope = function

# HTML 리포트 생성 (pytest-html 필요)
# addopts에 추가: --html=reports/report.html --self-contained-html
